<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Magic Mirror</title>
  <meta name="description" content="Random Nice Thing Generator">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="css/style.css">

</head>

<body>
  <div class="mainBody">
    <div class="weather fade">
      <p class="temp"></p>
      <img class="weather_icon" src="#" alt="" />
    </div>

    <div class="container">
      <p class="msg fade"></p>
    </div>
    <div class="BreakingNewsController easing fade" id="breakingnews">
      <div class="bn-title"></div>
      <ul>
      </ul>
    </div>
  </div>


  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
  <script src="js/BreakingNews.js"></script>
  <script type="text/javascript">
    $(document).keypress(function (event) {
      var keycode = (event.keyCode ? event.keyCode : event.which);
      if (keycode == '13') {
        $('.mainBody').fadeOut(1000, function() {
            location.reload();
        });
      };
    });
    var messages = [
      "Looking good.",
      "Have a great day.",
      "I like your shirt.",
      "That looks nice on you.",
      "I disagree with anyone who disagrees with you.",
      "Take a break; you've earned it.",
      "I support all of your decisions.",
      ":)",
      "You are perfect just the way you are.",
      "Don't worry. You'll do great.",
      "The Force is strong with you.",
      "I believe in you.",
      "You're very talented.",
      "You are intelligent.",
      "You are interesting.",
      "You are smart.",
      "You are delightful.",
      "You are kind.",
      "You are special.",
      "You are excellent.",
      "You Rock.",
      "You make a difference.",
      "You're doing great things.",
      "You seem nice."
    ];
    function getWeather() {
      $.ajax({
        async: true,
        url: "http://api.wunderground.com/api/b85fbf77a6804cc7/geolookup/conditions/q/MN/Minneapolis.json",
        dataType: "jsonp",
        success: function (parsed_json) {
          icon = parsed_json['current_observation']['icon'];
          temp_f = parsed_json['current_observation']['temp_f'];
          temp = document.querySelectorAll('.temp')[0];
          $('.weather_icon').attr('src', 'img/' + icon + '.svg');
          temp.innerHTML = temp_f + '&deg;F';
          weather.innerHTML = weather;
        }
      });
    };
    function compliments() {
      var i = Math.floor(Math.random() * messages.length);
      var element = messages[i];
      var msg = document.querySelectorAll('.msg')[0];
      msg.innerHTML = element;
    };
    $("#breakingnews").BreakingNews({
      background: "#000",
      title: "TOP STORIES",
      titlecolor: "#000",
      titlebgcolor: "#FFF",
      fonttextsize: 21,
      isbold: false,
      border: "0",
      width: "99%",
      timer: 6000,
      autoplay: true,
      effect: "slide",
      data: "http://www.tested.com/feeds/",
    });
    compliments();
    getWeather();
  </script>
</body>

</html>
